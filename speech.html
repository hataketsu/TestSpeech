<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smart home</title>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>
<script>
    client = new Paho.MQTT.Client('broker.mqttdashboard.com', 8000, 'wefwefwe');

    client.onMessageArrived = onMessageArrived;

    // connect the client
    client.connect({
        hosts: [ "wss://hungank.com:8000/" ],
        useSSL: true,
        onSuccess: onConnect
    });

    // called when the client connects
    function onConnect() {
        // Once a connection has been made, make a subscription and send a message.
        console.log("onConnect");
        client.subscribe("control/out");
    }

    function onMessageArrived(message) {
        console.log("onMessageArrived:" + message.payloadString);
    }
</script>
</body>
</html>